{{ define "main" }}
<div class="container">
  <div class="author-profile-section">
    <div class="profile-photo-container">
      <img
        src="{{ .Site.Params.Author.image | absURL }}"
        alt="{{ .Site.Params.Author.name }}"
        class="profile-photo"
      />
    </div>
    <p class="profile-tagline">{{ .Site.Params.tagline | markdownify }}</p>
    <div class="social-links">
      {{ partial "social-links.html" . }}
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-tags">
      <div class="tag active">All</div>
      {{ range .Site.Taxonomies.tags.ByCount }}
      <div class="tag" data-tag="{{ .Name | urlize }}">{{ .Name }}</div>
      {{ end }}
    </div>
  </div>

  <div class="posts-list" id="posts-container">
    {{ $posts := where .Site.RegularPages "Section" "eq" "posts" }} {{
    $postsPerPage := 3 }} {{ range first $postsPerPage $posts }} {{ partial
    "post-list-item.html" . }} {{ end }}
  </div>

  {{ $posts := where .Site.RegularPages "Section" "eq" "posts" }} {{ if gt (len
  $posts) 3 }}
  <div class="load-more-section">
    <button
      id="load-more-btn"
      class="load-more-btn"
      data-loaded="3"
      data-total="{{ len $posts }}"
    >
      <span class="load-more-text">Load More Posts</span>
      <span class="load-more-icon">â˜•</span>
    </button>
    <div class="load-more-loading" id="load-more-loading" style="display: none">
      <span class="loading-text">Brewing more content...</span>
      <div class="loading-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  {{ end }}
</div>
{{ end }}
